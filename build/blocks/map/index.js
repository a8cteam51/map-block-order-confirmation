(()=>{"use strict";const e=window.React,o=window.wp.i18n,a=window.wp.blocks,n=window.wp.blockEditor,t=window.wp.components;(0,a.registerBlockType)("wc-order-map/map",{edit:({attributes:a,setAttributes:l})=>{const{height:r,zoom:c}=a,i=(0,n.useBlockProps)(),m=wf_map_block.api_key||"";return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.InspectorControls,null,(0,e.createElement)(t.PanelBody,{title:(0,o.__)("Map Settings","map-block-order-confirmation")},(0,e.createElement)(t.TextControl,{label:(0,o.__)("Google Maps API Key","map-block-order-confirmation"),value:m,onChange:e=>{const o=new FormData;o.append("action","wcmap_block_save_key"),o.append("_ajax_nonce",wf_map_block.nonce_save_api_key),o.append("api_key",e),fetch(wf_map_block.ajaxurl,{method:"POST",body:o}).then((e=>e.json())).then((e=>{e.success?(console.log("API key saved:",e.data),window.location.reload()):console.error("Failed to save API key:",e.data)})).catch((e=>console.error("Error saving API key:",e)))},help:(0,o.__)("Enter your Google Maps API key","map-block-order-confirmation")}),(0,e.createElement)(t.RangeControl,{label:(0,o.__)("Zoom Level","map-block-order-confirmation"),value:c,onChange:e=>l({zoom:e}),min:1,max:21}),(0,e.createElement)(t.RangeControl,{label:(0,o.__)("Height","map-block-order-confirmation"),value:r,onChange:e=>l({height:e}),min:50,max:1e3}))),(0,e.createElement)("div",{...i},(0,e.createElement)("div",{className:"map-placeholder",style:{height:r+"px"}},(0,e.createElement)("div",{className:"map-placeholder-content"},(0,e.createElement)("span",{className:"dashicons dashicons-location"}),(0,e.createElement)("p",null,(0,o.__)("Shipping address map will appear here","map-block-order-confirmation"))))))},save:()=>null})})();